---
import BlogListPageItem from "../../components/notion/blog/BlogListPageItem.astro";
import NotionPageLayout from "../../layouts/NotionPageLayout.astro";
import { getPage } from "../../lib/notion";
import { getFilteredBlogItems } from "../../lib/notion/blog";

const page = await getPage("b749d283-ebbd-4b6f-92d4-13301479c2da");

const pages = await getFilteredBlogItems();
---

<NotionPageLayout
  page={page}
  meta={{ title: "Blog", url: "/blog", rssUrl: "/blog/feed.xml" }}
  breadcrumbs={[
    { name: "Home", url: "/" },
    { name: "Blog", url: "/blog" },
  ]}
>
  <ul>
    {
      pages.map((childPage) => (
        <li>
          <BlogListPageItem page={childPage} />
        </li>
      ))
    }
  </ul>
</NotionPageLayout>
