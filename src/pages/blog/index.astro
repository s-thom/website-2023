---
import BlogListPageItem from "../../components/notion/blog/BlogListPageItem.astro";
import PageWithHeaderLayout from "../../layouts/PageWithHeaderLayout.astro";
import { getFilteredBlogItems } from "../../lib/notion/blog";

const pages = await getFilteredBlogItems();
---

<PageWithHeaderLayout
  meta={{ title: "Blog", url: "/blog", rssUrl: "/blog/feed.xml" }}
  breadcrumbs={[
    { name: "Home", url: "/" },
    { name: "Blog", url: "/blog" },
  ]}
>
  <ul>
    {
      pages.map((page) => (
        <li>
          <BlogListPageItem page={page} />
        </li>
      ))
    }
  </ul>
</PageWithHeaderLayout>
