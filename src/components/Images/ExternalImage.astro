---
import Picture, { type ImageRequiredProps } from "./Picture.astro";
import { fetchImage } from "./fetchImage";

export interface Props extends ImageRequiredProps {
  id: string;
  src: string;
}

const { id, src, ...rest } = Astro.props;

const image = await fetchImage(src);
---

<Picture
  image={{ id, buffer: image.buffer, mimeType: image.mimeType }}
  {...rest}
/>
