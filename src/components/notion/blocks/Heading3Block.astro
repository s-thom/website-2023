---
import type { Heading3BlockObjectResponse } from "@notionhq/client/build/src/api-endpoints";
import {
  normalizeTitle,
  richTextToUnformattedString,
} from "../../../lib/notion/util";
import RichText from "../common/RichText.astro";

export interface Props {
  block: Heading3BlockObjectResponse;
}

const { block } = Astro.props;

const plain = richTextToUnformattedString(block.heading_3.rich_text);
const htmlId = normalizeTitle(plain);

// TODO: is_toggleable and <slot />
---

<h4 data-block={block.id} id={htmlId}>
  <RichText components={block.heading_3.rich_text} />
</h4>
